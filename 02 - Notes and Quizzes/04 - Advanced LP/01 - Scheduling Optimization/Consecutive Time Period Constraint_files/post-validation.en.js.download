(()=>{var e={p:""};(()=>{"use strict";e.p=document.getElementById("webpack-public-path").innerText+"Js/"})(),StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{},StackExchange.postValidation=function(){var e=$("body").hasClass("js-ask-page-v2"),t="Title",n="Body",s="Tags",a="Mentions",i="EditComment",r="Excerpt",o="Email",l="General";function c(e,t,n){var s={Title:".js-post-title-field",Body:".js-post-body-field[data-post-type-id="+t+"]",Tags:".js-post-tags-field",Mentions:".js-post-mentions-field",EditComment:".js-post-edit-comment-field",Excerpt:".js-post-excerpt-field",Email:".js-post-email-field",ArticleType:".js-article-type-field"};return s[n]?e.find(s[n]):$()}function u(e,t,n){var i=c(e,t,n);return n===s||n===a?e.find(".js-tag-editor").filter((function(){return $(this).data("target-field")===i.get(0)})):i}var d=[];function g(a,l,c,u){var d=a.find('input[type="submit"]:visible, button[type="submit"]:visible'),g=d.length&&d.is(":enabled");g&&d.prop("disabled",!0),function(n,s,a){h(n,s,a,t,(function(t,n,s){var a=t.val(),i=$.trim(a).length,r=t.data("min-length"),o=t.data("max-length");0!==i||e?r&&i<r?n(__tr(["Title must be at least $minLength$ character.","Title must be at least $minLength$ characters."], {minLength: r}, "en", ["minLength"])):o&&i>o?n(__tr(["Title cannot be longer than $maxLength$ character.","Title cannot be longer than $maxLength$ characters."], {maxLength: o}, "en", ["maxLength"])):s({type:"POST",url:"/posts/validate-title",data:{title:a,fkey:StackExchange.options.user.fkey}}):n()}))}(a,l,c),function(t,s,a,i){h(t,s,a,n,(function(t,n,a){var r=t.val(),o=$.trim(r).length,l=t.data("min-length");0!==o||e?5!==s?1!==s&&2!==s||a({type:"POST",url:"/posts/validate-body",data:{body:r,oldBody:t.prop("defaultValue"),isQuestion:1===s,isSuggestedEdit:i,fkey:StackExchange.options.user.fkey}}):l&&o<l?n(__tr(["Wiki Body must be at least $minLength$ characters. You entered $actual$."], {minLength: l,actual: o}, "en", [])):n():n()}))}(a,l,c,u),function(e,t,n){h(e,t,n,i,(function(s,a,i){var r=s.val(),o=$.trim(r).length,l=s.data("min-length"),c=s.data("max-length");0!==o?l&&o<l?a(__tr(["Your edit summary must be at least $minLength$ character.","Your edit summary must be at least $minLength$ characters."], {minLength: l}, "en", ["minLength"])):c&&o>c?a(__tr(["Your edit summary cannot be longer than $maxLength$ character.","Your edit summary cannot be longer than $maxLength$ characters."], {maxLength: c}, "en", ["maxLength"])):m(e,t,n)||a():a()}))}(a,l,c),function(e,t,n){h(e,t,n,r,(function(e,t,n){var s=e.val(),a=$.trim(s).length,i=e.data("min-length"),r=e.data("max-length");0!==a?i&&a<i?t(__tr(["Wiki Excerpt must be at least $minLength$ characters; you entered $actual$."], {minLength: i,actual: a}, "en", [])):r&&a>r?t(__tr(["Wiki Excerpt cannot be longer than $maxLength$ characters; you entered $actual$."], {maxLength: r,actual: a}, "en", [])):t():t()}))}(a,l,c),function(e,t,n){h(e,t,n,o,(function(e,t,n){var s=e.val(),a=$.trim(s);0!==a.length?StackExchange.helpers.isEmailAddress(a)?t():t(__tr(["This email does not appear to be valid."], undefined, "en", [])):t()}))}(a,l,c),E(a,l,(function(){!function(t,n,a){h(t,n,a,s,(function(t,n,s,a){var i=t.val();0!==$.trim(i).length||e?s({type:"POST",url:"/posts/validate-tags",data:{tags:i,oldTags:t.prop("defaultValue"),fkey:StackExchange.options.user.fkey,postTypeId:a},success:function(e){var n=t.closest(".js-post-form").find(".js-warned-tags-field");if(n.length){var s=n.val(),a=n.data("warned-tags")||[],i=((e.source||{}).Tags||[]).filter((function(e){return e&&-1===a.indexOf(e)}));i.length>0&&StackExchange.using("gps",(function(){i.forEach((function(e){StackExchange.gps.track("tag_warning.show",{tag:e},!0),s+=" "+e,a.push(e)})),n.val($.trim(s)).data("warned-tags",a),StackExchange.gps.sendPending()}))}}}):n()}))}(a,l,c),g&&d.prop("disabled",!1)}))}function f(e,t){e.find('input[type="submit"]:visible, button[type="submit"]').removeClass("is-loading"),t||(StackExchange.helpers.enableSubmitButton(e),StackExchange.navPrevention&&StackExchange.navPrevention.start())}function b(e,t,n,s,a){$.ajax({type:"POST",dataType:"json",data:e.serialize(),url:e.attr("action"),success:a,error:function(){var s=v(n,0);P(e,t,n,{General:[$("<span/>").text(s).html()]},0)},complete:function(){f(e,s)}})}function p(){for(var e=0;e<d.length;e++)clearTimeout(d[e]);d=[]}function h(t,n,s,a,i){c(t,n,a).blur((function(){var r=this,o=$(this),l=function(e){A(t,n,s,a,e)},c=function(e){return w(e,t,n,s,[a])};d.push(setTimeout((function(){var t=StackExchange.stacksValidation.handlerFor(o);t&&!e&&t.clear(),i.call(r,o,l,c,n)}),250))}))}function m(e,t,n){return"[Edit removed during grace period]"===$.trim(c(e,t,i).val())&&(A(e,t,n,i,__tr(["Comment reserved for system use. Please use an appropriate comment."], undefined, "en", [])),!0)}function v(e,t){if(t>0)switch(e){case"question":return __tr(["Your question couldn't be submitted. Please see the error above.","Your question couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"answer":return __tr(["Your answer couldn't be submitted. Please see the error above.","Your answer couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"edit":return __tr(["Your edit couldn't be submitted. Please see the error above.","Your edit couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"tags":return __tr(["Your tags couldn't be submitted. Please see the error above.","Your tags couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"article":return __tr(["Your article couldn't be submitted. Please see the errors above.","Your article couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);default:return __tr(["Your post couldn't be submitted. Please see the error above.","Your post couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"])}else switch(e){case"question":return __tr(["An error occurred submitting the question."], undefined, "en", []);case"answer":return __tr(["An error occurred submitting the answer."], undefined, "en", []);case"edit":return __tr(["An error occurred submitting the edit."], undefined, "en", []);case"tags":return __tr(["An error occurred submitting the tags."], undefined, "en", []);case"article":return __tr(["An error occurred submitting the article."], undefined, "en", []);default:return __tr(["An error occurred submitting the post."], undefined, "en", [])}}function P(e,t,n,s,a){var i=e.find(".js-general-error").text("").removeClass("d-none");S(e,i,s,null,l,t,n)||(a>0?i.text(v(n,a)):i.addClass("d-none"))}function y(e){var t=$(".js-post-review-summary").closest(".js-post-review-summary-container");if(t.length>0)t.filter(":visible").scrollIntoView();else{var n,s;T()&&($("#sidebar").animate({opacity:.4},500),n=setInterval((function(){T()||($("#sidebar").animate({opacity:1},500),clearInterval(n))}),500)),e.find(".validation-error, .js-stacks-validation.has-error").each((function(){var e=$(this).offset().top;(!s||e<s)&&(s=e)}));var a=function(){for(var t=0;t<3;t++)e.find(".message").animate({left:"+=5px"},100).animate({left:"-=5px"},100)};if(s){var i=$(".review-bar").length;s=Math.max(0,s-(i?125:30)),$("html, body").animate({scrollTop:s},a)}else a()}}function x(e,l,c,u,d){u&&E(e,l,(function(){var g=k(e,l,c,[t,n,s,a,i,r,o,"ArticleType"],u,d).length;P(e,l,c,u,g),y(e)}))}function E(e,t,n){var a=function(){1!==t||u(e,t,s).length?n():setTimeout(a,250)};a()}function w(e,t,n,s,a,i){return $.ajax(e).then((function(e){return i?$.when(i()).then((function(){return e})):e})).done((function(e){k(t,n,s,a,e.errors,e.warnings)})).fail((function(){k(t,n,s,a,{},{})}))}function k(e,t,n,s,a,i){for(var r=[],o=0;o<s.length;o++){var l=s[o];S(e,u(e,t,l),a,i,l,t,n)&&r.push(l)}return r}function A(e,t,n,s,a){z(e,u(e,t,s),a?[$("<span/>").text(a).html()]:[],[],s,t,n)}function S(e,t,n,s,a,i,r){return z(e,t,n[a]||[],(s||{})[a]||[],a,i,r)}function z(t,n,s,a,i,r,o){var c=StackExchange.stacksValidation.handlerFor(n);return c?function(t,n,s,a,i){t.clear("error"),a.forEach((function(e){t.add("error",e)})),"edit"===s||"question"===s&&e||(t.clear("warning"),i.forEach((function(e){t.add("warning",e)})))}(c,0,o,s,a):function(e,t,n){e&&e.length&&(0===n.length||1===n.length&&""===n[0]||!$("html").has(e).length?function(e){var t=e.data("error-popup");t&&t.is(":visible")&&t.fadeOutAndRemove(),e.removeClass("validation-error"),e.removeData("error-popup"),e.removeData("error-message")}(e):function(e,t,n){var s=1===t.length?t[0]:"<ul><li>"+t.join("</li><li>")+"</li></ul>",a=e.data("error-popup");if(a&&a.is(":visible")){if(e.data("error-message")===s)return void(a.animateOffsetTop&&a.animateOffsetTop(0));a.fadeOutAndRemove()}var i=StackExchange.helpers.showMessage(e,s,n);i.find("a").attr("target","_blank"),i.click(p),e.addClass("validation-error").data("error-popup",i).data("error-message",s)}(e,n,function(e,t){var n=$("#sidebar, .sidebar").first().width()||270,s="lg"===StackExchange.responsive.currentRange();return e===l?{position:"inline",css:{display:"inline-block","margin-bottom":"10px"},closeOthers:!1,dismissable:!1,type:t}:{position:{my:s?"left top":"top center",at:s?"right center":"bottom center"},css:{"max-width":n,"min-width":n},closeOthers:!1,type:t}}(t,"error")))}(n,i,s),t.find(".validation-error, .js-stacks-validation.has-error").length||t.find(".js-general-error").text(""),n.trigger("post:validated-field",[{errors:s,warnings:a,field:i,postTypeId:r,formType:o}]),s.length>0}function T(){var e=!1,t=$("#sidebar, .sidebar").first();if(!t.length)return!1;var n=t.offset().left;return $(".message").each((function(){var t=$(this);if(t.offset().left+t.outerWidth()>n)return e=!0,!1})),e}return{initOnBlur:g,initOnBlurAndSubmit:function(e,t,n,a,i){var r;g(e,t,n,a);var o=function(s){if(e.trigger("post:submit-completed",[{formType:n,postTypeId:t,response:s}]),s.success)if(i)i(s);else{var a=window.location.href.split("#")[0],l=s.redirectTo.split("#")[0];0===l.indexOf("/")&&(l=window.location.protocol+"//"+window.location.hostname+l),window.onbeforeunload=null,r=!0,window.location=s.redirectTo,a.toLowerCase()===l.toLowerCase()&&window.location.reload(!0)}else s.captchaHtml?StackExchange.nocaptcha.init(s.captchaHtml,o):s.errors?(e.find(".js-post-prior-attempt-count").val((function(e,t){return(+t+1||0).toString()})),x(e,t,n,s.errors,s.warnings)):P(e,t,n,{General:[$("<span/>").text(s.message).html()]},0)};e.submit((function(){if(e.find(".js-post-answer-while-asking-checkbox").is(":checked"))return!0;if(m(e,t,n))return StackExchange.helpers.enableSubmitButton(e),!1;if(p(),StackExchange.navPrevention&&StackExchange.navPrevention.stop(),e.find('input[type="submit"]:visible, button[type="submit"]').addClass("is-loading"),StackExchange.helpers.disableSubmitButton(e),StackExchange.options.site.enableNewTagCreationWarning){var a=c(e,t,s),i=a.prop("defaultValue");if(a.val()!==i)return $.ajax({type:"GET",url:"/posts/new-tags-warning",dataType:"json",data:{tags:a.val()},success:function(a){if(a.showWarning){var i={closeOthers:!0,shown:function(){$(".js-confirm-tag-creation").on("click",(function(s){return StackExchange.helpers.closePopups(),b(e,t,n,r,o),s.preventDefault(),!1}))},dismissing:function(){f(e,r)},returnElements:u(e,t,s).find("input:visible")};StackExchange.helpers.showModal($(a.html).elementNodesOnly(),i),StackExchange.helpers.bindMovablePopups()}else b(e,t,n,r,o)}}),!1}return setTimeout((function(){b(e,t,n,r,o)}),0),!1}))},showErrorsAfterSubmission:x,validatePostFields:function(e,a,i,r,o){if(1===a)return w({type:"POST",url:"/posts/validate-question",data:{title:c(e,a,t).val(),body:c(e,a,n).val(),tags:c(e,a,s).val(),fkey:StackExchange.options.user.fkey}},e,a,i,[t,n,s],o).promise();if(2===a)return w({type:"POST",url:"/posts/validate-body",data:{body:c(e,a,n).val(),oldBody:c(e,a,n).prop("defaultValue"),isQuestion:!1,isSuggestedEdit:r||!1,fkey:StackExchange.options.user.fkey}},e,a,i,[n],o).promise();var l=$.Deferred();return l.reject(),l.promise()},scrollToErrors:y}}()})();